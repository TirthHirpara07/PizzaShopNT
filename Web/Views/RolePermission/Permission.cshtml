@model List<Entity.Bean.PermissionBean>;
@{
    ViewData["Title"] = "Permission";
    Layout = "_Layout";
}
<div class=" container p-5 ">
    <div class="container-fluid">
        <div class="d-flex justify-content-between">
            <div class="col-6">
                <a class="text-decoration-none fs-2 fw-bolder" href="#">Permissions</a>
            </div>
            <div class="col-6 pt-2  d-flex align-item-center justify-content-end" id="">
                <div class="row">
                    <button type="button" class="btn border border-primary text-primary ">
                        <a class="page-link" asp-action="index" asp-controller="RolePermission" aria-label="Previous">
                            <span aria-hidden="true">&laquo; Back</span>
                        </a>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- inputs -->
    <div class="col-12 p-0">
        <div class="row">
            <div class=" my-4  p-2 bg-white shadow">
                <form action="UpdatePermission">
                    <div class="form-floating col-md-6">
                        <input type="text" class="form-control " id="EditRolePermission" placeholder=""
                            value="@Model.FirstOrDefault().RoleName" readonly>
                        <label for="EditRolePermission">Role</label>
                    </div>
                    <div class="col-12 table-responsive">

                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="AllPermission">
                                            <label class="form-check-label" for="AllPermission">
                                                Permissions
                                            </label>
                                        </div>
                                    </th>
                                    <th scope="col">Can View</th>
                                    <th scope="col">Can Add/Edit</th>
                                    <th scope="col">Can Delete</th>
                                </tr>
                            </thead>
                            <tbody>
                                @for (int i = 0; i < @Model.Count; i++)
                                {
                                    <input type="text" asp-for="@Model[i].RoleName" hidden>
                                    <input type="text" asp-for="@Model[i].DepartmentName" hidden>

                                    <tr>
                                        <td> <input type="checkbox" name="" id="" class="rowcheckbox"> <label
                                                for="">@Model[i].DepartmentName</label></td>
                                        <td>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" asp-for="@Model[i].CanView">
                                                <label class="form-check-label" for=""></label>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" asp-for="@Model[i].CanEdit">
                                                <label class="form-check-label" for=""></label>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox"
                                                    asp-for="@Model[i].CanDelete">
                                                <label class="form-check-label" for=""></label>
                                            </div>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>

                    </div>
                    <div class="col-12 d-flex align-item-center justify-content-end">
                        <div class=" p-4">
                            <button type="submit" class="btn btn-primary border border-primary text-white m-2">
                                <span aria-hidden="true">Save</span>
                            </button>
                            <button type="button" class="btn border border-primary text-primary m-2">
                                <a class="page-link" asp-action="index" asp-controller="RolePermission"
                                    aria-label="Previous">
                                    <span aria-hidden="true">Cancel</span>
                                </a>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

    </div>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#AllPermission").change(function(){
                $(".rowcheckbox:visible").prop("checked",this.checked);
            });
        });
    </script>